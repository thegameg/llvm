# RUN: llc -mtriple=x86_64-unknown-unknown -run-pass=cfi-instr-inserter -o - %s | FileCheck %s

---
name:            f0
tracksRegLiveness: true
body:             |
  bb.0:
    successors: %bb.1, %bb.2

    CFI_INSTRUCTION offset %rbp, -16
    %eflags = IMPLICIT_DEF
    JNE_1 %bb.1, implicit %eflags
    JMP_1 %bb.2

  bb.1:
    CFI_INSTRUCTION restore %rbp
    RETQ

  bb.2:
    successors: %bb.3

    JMP_1 %bb.3

  bb.3:
    CFI_INSTRUCTION restore %rbp
    RETQ
...
# CHECK-LABEL: f0
# CHECK: bb.0
# CHECK: CFI_INSTRUCTION offset %rbp, -16
# CHECK: bb.1
# CHECK: CFI_INSTRUCTION restore %rbp
# CHECK: bb.2
# CHECK: CFI_INSTRUCTION offset %rbp, -16
# CHECK: bb.3
# CHECK: CFI_INSTRUCTION restore %rbp
